<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>난수를 발생시켜 맞추는 게임</title>
</head>
<body>
    <script>
        var low = 0;    //범위의 최솟값
        var high = 0;   //범위의 최고값
        var card = 0;   //정답
        //게임의 정답을 맞추기 위해서 무한루프를 돌고 있다.
        
        while(true){
            var count = 0;  //사용자의 시도 횟수
            low = 0;
            high = 100;

            //
            card = Math.floor(Math.random() * 100);    //0~99까지의 난수를 발생
            alert("두구두구~ 랜덤숫자 맞추기! ");
            alert("두구두구");
            alert("숫자를 다 섞었어요. 제가 하나 뽑아볼게요.");
            alert("헉쓰");
            alert("제가 뽑은 숫자가 몇이게요~? 맞춰보세요 !");

            //내부 루프의 경우는 정해진 난수를 맞출 때까지 실행된다.
            while(true){
                var n = 0;
                alert( "힌트 : " + low + "와 " + high + "사이의 값입니다."); //값의 범위를 출력
                count++;
                alert( count + "번째 시도입니다. "  );

                n = prompt("숫자를 입력하세요"); //사용자로부터 숫자를 입력받음
                n = parseInt(n);

                //예외처리
                if( n > high || n < low ){
                    alert("값의 범위를 벗어났습니다. 제대로 읽고 입력하세요;");
                }

                //정상적인 범위의 수가 입력된 경우
                else{

                    //정답
                    if(n==card){
                        alert("정답입니다. 짝짝짝");
                        break;
                    }
                    
                    //정답보다 큰 수일 경우
                    else if (n > card) {
                        alert("Down!");
                        high = n;   //범위를 재지정
                    }

                    //정답보다 작은 수일 경우
                    else {
                        alert("Up!");
                        low = n;    //범위를 재지정
                    }
                }
            }
            alert(count + "번째만에 맞추셨네요~ 찍.신.강.림 ! ");

            var con = confirm("게임을 다시 시작하겠습니까? ");
            if (con == false) {
                break;
            }
        }
    </script>
    

</body>
</html>